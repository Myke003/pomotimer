(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))h(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&h(r)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function h(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();class c{constructor(i){this.initialTime=i,this.time=i,this.interval=null,this.isRunning=!1,this.isPaused=!1,this.clock=document.getElementById("time-string"),this.ring=new Audio("timer-done.mp3"),this.ring.addEventListener("error",()=>{console.log("Error al cargar el archivo de audio")}),this.showTime()}reset(){this.isRunning&&this.pause(),this.time=this.initialTime,this.isPaused=!1,this.showTime(),console.log("Timer reset.")}start(){if(this.isRunning){console.log("Esta corriendo actualmente");return}this.isRunning=!0,this.isPaused=!1,this.interval=setInterval(()=>{this.time--,this.showTime(),this.time<=0&&(this.finish(),this.ring.play())},1e3),console.log("Is started.")}pause(){this.isRunning&&(clearInterval(this.interval),this.isRunning=!1,this.isPaused=!0,console.log("Is paused."))}finish(){this.pause(),this.isPaused=!1,this.time=this.initialTime,console.log("Is finished.")}showTime(){const i=Math.floor(this.time/60),n=this.time%60;this.clock.textContent=`${i<10?"0"+i:i}:${n<10?"0"+n:n}`}toggleStartPause(){this.isRunning?this.pause():this.start()}}const m=document.getElementById("pomodoro"),f=document.getElementById("short-break"),g=document.getElementById("long-break"),l=document.getElementById("timer-btn"),a=new c(10),p=new c(5*60),y=new c(15*60);let s=a;function T(){s&&s.reset()}function u(){s&&s.isRunning?l.textContent="Pause":l.textContent="Start"}function d(o){T(),s=o,s.showTime(),u()}m.addEventListener("click",()=>{d(a),console.log("pomodoro")});f.addEventListener("click",()=>{d(p)});g.addEventListener("click",()=>{d(y)});l.addEventListener("click",()=>{s.toggleStartPause(),u()});a.showTime();u();
